<!doctype html>
<!--suppress ALL -->
<html class="no-js">
<head>
	<title>Wishify</title>

	<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
	<!--suppress HtmlUnknownTarget -->
	<script src="/socket.io/socket.io.js"></script>
	<script src="js/jquery.transit.min.js"></script>
	<script src="js/vue.js"></script>

	<link href='https://fonts.googleapis.com/css?family=Pacifico'
	      rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Open+Sans'
	      rel='stylesheet' type='text/css'>

	<link rel="stylesheet" type="text/css" href="normalize.css">
	<link rel="stylesheet" type="text/css" href="style.css">

	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
<header>
	<h1 class="fancy">Wishify</h1>
	<noscript>This page does not work without Javascript!</noscript>
</header>

<main>
	<ol id="tracklist">
		<li v-for="track in tracks" id="{{track.id}}">
			<img v-bind:src="track.album.images[1].url">
			<div class="metainfo smaller">
				<span class="title nSmaller">{{track.name}}</span><br>
					<span>
						<span class="album">{{track.album.name}}</span> â€¢
						<span class="artists">
							<span v-for="artist in track.artists">
								{{artist.name}}
							</span>
						</span>
					</span>
			</div>
			<div class="voting">

				<button class="upvote" v-on:click="voteUp(track.id)">
					<svg viewBox="0 0 100 100" stroke="#000"
					     fill="none" stroke-width="2">
						<ellipse class="circle" ry="49" rx="49" cy="50"
						         cx="50"/>
						<path class="arrow"
						      d="M50 15v70M25 40l25-25 25 25"/>
					</svg>
				</button>
				<span class="score">{{track.score}}</span>
				<button class="downvote" v-on:click="voteDown(track.id)">
					<svg viewBox="0 0 100 100" stroke="#000"
					     fill="none" stroke-width="2" class="rotate">
						<ellipse class="circle" ry="49" rx="49" cy="50"
						         cx="50"/>
						<path class="arrow"
						      d="M50 15v70M25 40l25-25 25 25"/>
					</svg>
				</button>
			</div>
		</li>
	</ol>

	<button id="newTrackButton" v-on:click="openAddDialog">
		<svg>
			<image xlink:href="img/ic_add_white_48px.svg" width="35" height="45"/>
		</svg>
	</button>
	<div id="newTrackPane">
		<div>
			<input type="search" placeholder="search track"
			       v-on:keyup.13="searchTrack"/>
			<svg v-show="searching" class="spinner" width="65px"
			     height="65px" viewBox="0 0 66 66"
			     xmlns="http://www.w3.org/2000/svg">
				<circle class="path" fill="none" stroke-width="6"
				        stroke-linecap="round" cx="33" cy="33"
				        r="30"></circle>
			</svg>
			<ul v-else>
				<li v-for="track in searchResults"
				    v-on:click="addTrack(track.id)">
					{{track.artists[0].name}} - {{track.name}}
				</li>
			</ul>
		</div>
	</div>
</main>

<footer>
	<div id="nowPlaying">
		<span class="title">{{currentTrack.name}}</span><br>
		<span class="artists smaller">
			<span v-for="artist in currentTrack.artists">
				{{artist.name}}
			</span>
		</span>
	</div>
</footer>

<script src="js/script.js"></script>
</body>
</html>
